
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,
                   maximum-scale=1.0, user-scalable=no">
    
    <!-- Attiva modalità app fullscreen -->
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Nasconde completamente la status bar -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>Scacchi 2 Giocatori</title>

    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Stili per il turn indicator */
        #turnIndicator {
            font-size: 20px;
            margin-top: 5px;
            font-weight: bold;
            padding: 10px 20px;
            border-radius: 8px;
            border: 2px solid #000;
            display: inline-block;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .white-turn {
            background-color: #fff;
            color: #000;
        }
        .black-turn {
            background-color: #000;
            color: #fff;
        }
    </style>
</head>
<body>

    <h1>Scacchi – 2 Giocatori</h1>

    <div id="turnIndicator" class="white-turn">
        Tocca al Bianco
    </div>

    <div id="boardWrapper" style="
        padding-bottom: calc(env(safe-area-inset-bottom) + 40px);
    ">
        <canvas id="board"></canvas>
    </div>

    <button id="newGameBtn" style="
        margin-top: 30px;
        margin-bottom: 40px;
        padding: 10px 20px;
        font-size: 18px;
        -webkit-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
    ">
        Nuova Partita
    </button>    

    <script>
        let currentTurn = 'white'; // 'white' o 'black'
        const turnIndicator = document.getElementById('turnIndicator');

        function updateTurnIndicator() {
            if (currentTurn === 'white') {
                turnIndicator.classList.remove('black-turn');
                turnIndicator.classList.add('white-turn');
                turnIndicator.textContent = 'Tocca al Bianco';
            } else {
                turnIndicator.classList.remove('white-turn');
                turnIndicator.classList.add('black-turn');
                turnIndicator.textContent = 'Tocca al Nero';
            }
        }

        // Funzione per cambiare turno (da chiamare dopo ogni mossa valida)
        function toggleTurn() {
            currentTurn = currentTurn === 'white' ? 'black' : 'white';
            updateTurnIndicator();
        }

        // Inizializza
        updateTurnIndicator();

        // Esempio: click sul turnIndicator per testare il cambio turno
        turnIndicator.addEventListener('click', toggleTurn);
    </script>
</body>
</html>
